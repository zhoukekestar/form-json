<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Attributes Demo</title>
    <script src='../src/form-json.js'></script>
    <style media="screen">
      textarea {
        height: 200px;
        width: 100%;
      }
      label {
        display: block;
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <h2>AJAX data:</h2>
    <textarea>empty</textarea>
    <h3>number2array is true</h3>
    <form enctype="application/form-json">
      <label>
        a.2.b
        <input name='a.2.b' value="a.2.b">
      </label>
      <input type='submit' />
    </form>
    <h3>number2array is false</h3>
    <form enctype="application/form-json" number2array='false'>
      <label>
        a.2.b
        <input name='a.2.b' value="a.2.b">
      </label>
      <input type='submit' />
    </form>
    <br>
    <h3>orderby is number</h3>
    <form enctype='application/form-json'>
      <label>
        a.3.b
        <input name='a.3.b' value="a.3.b">
      </label>
      <label>
        a.2.b
        <input name='a.2.b' value="a.2.b">
      </label>
      <input type='submit' />
    </form>
    <h3>orderby is element</h3>
    <form enctype='application/form-json' orderby='element'>
      <label>
        a.3.b
        <input name='a.3.b' value="a.3.b">
      </label>
      <label>
        a.2.b
        <input name='a.2.b' value="a.2.b">
      </label>
      <input type='submit' />
    </form>

    <script>
      document.body.addEventListener('submit', function (e) {
        e.target.beforeStringify = function (d) {
          document.querySelector('textarea').value = JSON.stringify(d, null, 2);
          return d;
        }
      })
    </script>
  </body>
</html>
